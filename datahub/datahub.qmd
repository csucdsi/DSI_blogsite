---
title: "Wildcat Data Hub"
format: 
  html:
    css: styles.css
title-block-banner: true
page-layout: full 
---

```{r, echo=FALSE, results='asis'}

#| echo: false
#| include: false

# Directory containing images
image_dir <- "datahub_images"

# List of valid image extensions (without leading dots)
valid_extensions <- c("jpg", "jpeg", "png", "gif")

# Get list of files in the directory with full paths
image_paths <- list.files(path = image_dir, full.names = TRUE)

# Function to check if a file has a valid image extension
is_valid_image <- function(filename) {
  ext <- tolower(tools::file_ext(filename))
  ext %in% valid_extensions
}

# Filter to valid image files
image_paths <- image_paths[sapply(image_paths, is_valid_image)]

# Get file info
file_info <- file.info(image_paths)

# Sort images by modification time, so newer files come first
image_paths <- image_paths[order(file_info$mtime, decreasing = FALSE)]

# Get the filenames (without full paths)
image_files <- basename(image_paths)

# Number of banners you have
num_banners <- 4  # Adjust this if you have more or fewer banners

# Ensure we have enough images by filling missing ones with NA
if (length(image_files) < num_banners) {
  image_files <- c(image_files, rep(NA, num_banners - length(image_files)))
}

# Assign images to variables
image1 <- image_files[1]
image2 <- image_files[2]
image3 <- image_files[3]
image4 <- image_files[4]

```

```{=html}
<!-- Banner 1 -->
<div class="banner">
  <!-- Left Side: Text Description -->
  <div class="left">
    <h1>Wildcat Data Hub</h1>
    <p>Wildcat Data Hub aims to empower our campus and community with data science expertise and statistical consulting, assisting people and organizations in achieving excellence in science and business.</p>
  </div>
  <!-- Right Side: Image -->
  <div class="right">
    <div class="image">
      `r if (!is.na(image1)) { sprintf('<img src="%s/%s" alt="Wildcat Data Hub Image">', image_dir, image1) } else { '' }`
    </div> 
  </div> 
</div>

<!-- Banner 2 with Blue Background -->
<div class="banner banner--blue">
  <!-- Left Side: Text Description -->
  <div class="left">
    <h1>Bridging Innovation and Opportunity</h1>
    <p>Data Services</p>
    <ul>
      <ul>
        <li>No fee research/services</li>
        <li>Data analysis via statistical Modeling / machine learning</li>
        <li>Cleaning and transforming data</li>
        <li>Developing research questions and Grant proposals</li>
        <li>Data collection</li>
        <li>Quantitative and qualitative data analysis</li>
        <li>Data Visualization and reporting</li>
        <li>Consulting</li>
        <li>Research contributions and data wrangling</li>
      </ul>
      
    </ul>
  </div>
  <!-- Right Side: Image -->
  <div class="right">
    <div class="image">
      `r if (!is.na(image2)) { sprintf('<img src="%s/%s" alt="Wildcat Data Hub Image">', image_dir, image2) } else { '' }`
    </div> 
  </div> 
</div>

<!-- Banner 3 with Reversed Layout -->
<div class="banner banner--reverse banner--light">
  <!-- Left Side: Image -->
  <div class="left">
    <div class="image">
      `r if (!is.na(image3)) { sprintf('<img src="%s/%s" alt="Wildcat Data Hub Image">', image_dir, image3) } else { '' }`
    </div> 
  </div>
  <!-- Right Side: Text Description -->
  <div class="right">
    <h1>Previous Work</h1>
    <ul>
      <li> Creating <a href="../projects.qmd"> blog posts </a> for student work </li>
      <li> Assisting <a href="https://www.csuchico.edu/ir/" target="_blank">IRSA</a> with data Visualization </li>
    </ul>
  </div>
</div>

<!-- Banner 4 -->
<div class="banner banner--light">
  <!-- Left Side: Form -->
  <div class="left">
     <iframe
      id="JotFormIFrame-241545296222152"
      title="Wildcat Data Hub Client Intake Form"
      onload="window.parent.scrollTo(0,0)"
      allowtransparency="true"
      allow="geolocation; microphone; camera; fullscreen"
      src="https://form.jotform.com/241545296222152"
      frameborder="0"
      style="min-width:100%;max-width:100%;height:539px;border:none;"
      scrolling="yes"
    >
  </div>
  <!-- Right Side: Image -->
  <div class="right">
    <div class="image">
      `r if (!is.na(image4)) { sprintf('<img src="%s/%s" alt="Wildcat Data Hub Image">', image_dir, image4) } else { '' }`
    </div> 
  </div> 
</div>
```
```{=html}
<script src='https://cdn.jotfor.ms/s/umd/latest/for-form-embed-handler.js'></script>
    <script>window.jotformEmbedHandler("iframe[id='JotFormIFrame-241545296222152']", "https://form.jotform.com/")</script>
```